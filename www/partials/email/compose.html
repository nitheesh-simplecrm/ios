<!--EMAILS-->
<form novalidate role="form" class="form text-center" name="form">
    <!--NAVIGATION-->
    <nav id="header" class="main-navigation clearfix text-center">
        <ul class="left">
            <li data-toggle="modal" data-target="#backModal" ><a class="nav-pill-1">Cancel</a></li>
        </ul>
        <ul>
            <li class="text-center">
                <h4 ng-show="composeMailStatus && !networkOfflineStatus" class="text-center text-uppercase">
                    <i class="fa fa-envelope fa-fw fa-lg"></i>
                    Compose mail
                </h4>
                <h4 ng-show="!composeMailStatus || networkOfflineStatus" class="text-center text-uppercase">
                    <i class="fa fa-envelope fa-fw fa-lg"></i>
                    <i class="fa fa-spinner fa-spin fa-fw fa-lg"></i>
                    Loading... 
                </h4>
            </li>
        </ul>
        <ul class="right">
            <li ng-hide="form.$invalid"><a class="nav-pill-1 save" data-loading-text="Sending..." ng-click="send(email)">Send <i class="fa fa-paper-plane fa-fw fa-lg"></i></a></li>
        </ul>
    </nav>
    <!--NAVIGATION-->
    <!--WRAPPER-->
    <div id="wrapper">
        <!--SCROLLER-->
        <div id="scroller">
            <!--OFFLINE ALERT-->
            <div ng-show="networkOfflineStatus" class="text-center">
                <div class="list-group">
                    <div class="list-group-item">
                        <i class="text-warning fa fa-exclamation-circle fa-fw fa-2x"></i>
                        <h4 class="text-warning">Oops! Network Connection Lost or Something Went Wrong.</h4>
                        <h4 ng-hide="form.$invalid" class="text-info">Tap below to try saving again</h4>
                        <a ng-hide="form.$invalid" ng-click="save(account)" class="fa fa-save fa-fw fa-2x"></a>
                    </div>
                </div>
            </div>
            <!--FIELDS-->
            <div ng-show="composeMailStatus" class="text-center">
                <span class="label label-info left" ng-show="form.toID.$error.required">Required</span>
                <span class="label label-danger left" ng-show="form.toID.$dirty && form.toID.$invalid">Invalid To Email</span>
                <div class="form-group">
                    <div class="input-group">
                        <input type="email" name="toID" class="cstm-bg-sec form-control input-lg" placeholder="To Email" ng-model="email.toID" required >
                    </div>
                </div>

                <span class="label label-info left" ng-show="form.toName.$error.required">Required</span>
                <span class="label label-danger left" ng-show="form.toName.$dirty && form.toID.$invalid">Invalid To Name</span>
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" name="toName" class="cstm-bg-sec form-control input-lg" placeholder="To Name" ng-model="email.toName" required >
                    </div>
                </div>

                <span class="label label-success left">Separate recipients with a comma</span>
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" name="cc" class="cstm-bg-sec form-control input-lg" placeholder="CC" ng-model="email.cc" >
                    </div>
                </div>

                <span class="label label-success left">Separate recipients with a comma</span>
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" name="bcc" class="cstm-bg-sec form-control input-lg" placeholder="BCC" ng-model="email.bcc" >
                    </div>
                </div>

                <span class="label label-info left" ng-show="form.fromID.$error.required">Required</span>
                <span class="label label-danger left" ng-show="form.fromID.$dirty && form.toID.$invalid">Invalid Form Email</span>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">From Email<sup class="text-danger"> * </sup></span>
                        <input type="text" name="fromID" class="cstm-bg-sec form-control input-lg" placeholder="From" ng-model="email.fromID" required readonly>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">From Name<sup class="text-danger"> * </sup></span>
                        <input type="text" name="fromName" class="cstm-bg-sec form-control input-lg" placeholder="From" ng-model="email.fromName" required readonly>
                    </div>
                </div>
                
                <span class="label label-info left" ng-show="form.subject.$error.required">Required</span>
                <span class="label label-warning left" ng-show="form.subject.$error.minlength">Too Short</span>
                <span class="label label-danger left" ng-show="form.subject.$dirty && form.subject.$invalid">Invalid Subject</span>
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" name="subject" class="cstm-bg-sec form-control input-lg" placeholder="Subject" ng-model="email.subject" ng-minlength="3" required >
                    </div>
                </div>

                <span class="label label-info left" ng-show="form.body.$error.required">Required</span>
                <span class="label label-warning left" ng-show="form.body.$error.minlength">Too Short</span>
                <span class="label label-danger left" ng-show="form.body.$dirty && form.body.$invalid">Invalid Subject</span>
                <div class="form-group">
                    <div class="input-group">
                        <textarea rows="6" name="body" class="cstm-bg-sec form-control input-lg" placeholder="Body" ng-model="email.body" ng-minlength="1" required ></textarea>
                    </div>
                </div>

                <button class="btn btn-default btn-block btn-lg btn-danger" id="noLoginUser" ng-click="reset()" >Reset</button>
            </div>
        </div>
        <!--SCROLLER-->
    </div>
    <!--WRAPPER-->
</form>
<!--FORM-->
<!--FOOTER-->
<footer class="container-fluid">
    <nav id="footer" class="main-navigation text-center" role="navigation">
        <ul class="text-center">
            <li>
                <a>
                    <small ng-show="form.$invalid" class="text-warning col-xs-12">Some Fields Required.</small>
                    <small ng-show="!form.$invalid" class="text-success">Everything looks okay.</small>
                </a>
            </li>
        </ul>
    </nav>
</footer>
<!--FOOTER-->
<!--The Back Modal-->
<div ng-include="'partials/back.html'"></div>

<div class="modal fade bs-example-modal-sm" id="successModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h2 class="modal-title" id="successModalLabel">Info</h2>
            </div>
            <div class="modal-body text-center">
                <h4>Your mail has been sent successfully!</h4>
                <h4>If you wish to go back, press <b class="text-info">Done</h4>
                <h4>If you wish to send another mail to {{email.toName}} ({{email.toID}}) </h4>
                <h4> press <b class="text-success">Compose Another</h4>
            </div>
            <div class="modal-footer">
                <button back-button class="btn btn-info pull-left"><i class="fa fa-angle-left fa-fw fa-lg"></i>Done</button>
                <button refresh data-dismiss="modal" class="btn btn-success pull-right"><i class="fa fa-pencil fa-fw fa-lg"></i>Compose Another</button>
            </div>
        </div>
    </div>
</div>